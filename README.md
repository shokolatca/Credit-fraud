# Предмет
**Методы защиты в кредитно-финансовой сфере**

# Задача
## Таска
1. Необходимо провести анализ набора данных, рассказать, как он собран и для чего
2. План мониторинга и переобучения по батчам выгрузки
3. Подготовить наборы данных для применения методов машинного обучения 
4. Обучить модель. При этом необходимо использовать тот материал, которых мы проходили на индивидуальных семинарах. Не запрещается использовать и другие подходы, но по ним лучше дать теоретическую справку.
5. Подготовить презентацию и рассказать на семинаре результаты и проблемы, возникшие при моделировании.

# Анализ датасета
```markdown
Подробно рассмотрен в eda_financial_loan
```

### Как мог быть собран датасет и для чего
По набору признаков (`loan_amount`, `int_rate`, `grade`/`sub_grade`, `purpose`, `verification_status`, `loan_status`, `total_payment` и др.) это датасет по потребительским кредитам в США на уровне отдельных займов. `address_state` содержит коды штатов, а даты отражают состояние записей на момент выгрузки: `issue_date` ведет себя как дата батча/экспорта (а не дата выдачи), тогда как `last_payment_date` и `next_payment_date` относятся к обслуживанию кредита. Такие данные скорее всего выгружают из кредитной системы/сервиса для задач кредитного риска, портфельной аналитики и мониторинга качества данных.

# Бизнес-задачи
## Задача №1 Предсказание статуса кредита до выдачи 
**Бизнес-задача: на этапе заявки оценить риск Charged Off vs Fully Paid, чтобы:**
- отправлять часть заявок на доп.проверку,
- снижать лимит/менять условия,
- отклонять самые рискованные.

В модель берём:
- annual_income, dti, loan_amount, term, purpose, home_ownership, verification_status, state, application_type, emp_length ( и аккуратно emp_title)
- int_rate, grade/sub_grade — это часто решение кредитора (можно либо исключить, либо оставить и честно написать, что модель использует кредиторский риск-рейтинг)
- выкинуть как лик: total_payment, last_payment_date, next_payment_date, last_credit_pull_date (это постфактум обслуживание)

**Цель** поймать заявки, которые выглядят как будущие дефолты; среди них есть и мошенники/искажения данных.

## Задача №2  Предсказание статуса кредита до батчам 

**Бизнес-задача: На этапе среза оценить риск Charged Off vs Fully Paid**

Как это реализуется в реальном процессе:
1. Обучаем модель на исторических батчах (например, Jan–Sep 2021).
2. Тестируем на следующем батче (например, Oct 2021) — “псевдо‑OOT”.
3. Для каждого нового батча:
   - считаем сдвиги фич (PSI/KS или сравнение распределений),
   - следим за долей `Charged Off`,
   - когда появляется факт `loan_status` — считаем метрики модели.
4. Если сдвиг/просадка превышает порог - переобучаем модель на rolling‑окне, либо калибруем пороги.

В анализ берём:
- те же признаки, что в задаче 1

**Цель** — отследить сдвиг входных данных и/или падение качества, чтобы вовремя переобучить модель или откалибровать пороги.

### Задача №3 Поиск аномалий в заявках 

**Бизнес-задача: без метки fraud находить “подозрительные” заявки и отправлять их на проверку, чтобы:**
- выявлять искажённые данные в заявках,
- снижать риск мошенничества,
- улучшать качество портфеля.

В анализ берём:
- annual_income, dti, loan_amount, term, purpose, home_ownership, verification_status, address_state, application_type, emp_length (и аккуратно emp_title)
- рассчитываемые метрики: loan_to_income, installment_to_income, paid_ratio (total_payment / loan_amount), лаги дат
- выкинуть лик: loan_status и поля обслуживания (last_payment_date, next_payment_date, last_credit_pull_date, total_payment) — если задача строго про заявки до обслуживания

**Цель** найти нетипичные заявки с высокими рисками или подозрительными паттернами (аномальные суммы, доходы, даты, платежи).

## Задача №4 Кластеризация

**Бизнес-задача: найти группы заявок с очень похожими параметрами, которые могут быть:**
- дубликатами,
- синтетическими/шаблонными профилями,
- “одним и тем же человеком с усами.

Как делаем:
- строим вектор признаков (нормированные числовые + encoded категориальные),
- ищем kNN “почти одинаковых” заявок,
- ищем кластеры плотности (DBSCAN/HDBSCAN),
- выделяем пары с высокой похожестью.

В анализ берём: 
- annual_income, dti, loan_amount, term, purpose, home_ownership, verification_status, address_state, application_type, emp_length
- аккуратно используем emp_title (нормализация текста + группировка)
- выкинутьid, member_id (уникальны и не несут полезного сходства)
- исключить лик: поля обслуживания/постфактум: loan_status, total_payment, last_payment_date, next_payment_date, last_credit_pull_date

**Цель** — выявить подозрительные группы “почти одинаковых” заявок, которые могут быть мошенническими (массовые шаблоны, повторные заявки под разными документами).


# Команда
- Труфанова Анастасия
- Гриднева Екатерина
- Кинаш Варвара
- Самойлов Александр
